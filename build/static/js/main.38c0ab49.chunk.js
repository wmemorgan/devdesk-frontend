(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{285:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(47),o=n.n(i),c=n(14),l=(n(66),n(5)),s=n(6),d=n(8),u=n(7),p=n(9),m=n(57),g={isAuthenticated:!1,authenticate:function(e){this.isAuthenticated=!0,setTimeout(e,100)},signout:function(e){this.isAuthenticated=!1}},f=n(19),h=function(e){var t=e.component,n=Object(m.a)(e,["component"]);return r.a.createElement(f.b,Object.assign({},n,{render:function(e){return g.isAuthenticated?r.a.createElement(t,Object.assign({},e,n)):r.a.createElement(f.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},b=n(2),x=n(1),v={color:{topBarBgColor:"#394141",mainBgColor:"#454f4f",primaryTextColor:"white",secondaryTextColor:"black",ticketHeaderColor:"#394141",ticketColor:"#acb8b9",ticketColorHover:"#7a8586",ticketColor_2:"#98a4a5",ticketOpen:"#6B93A2",ticketClosed:"#546B43"},fontStyles:{navBarFont:"'Open Sans', sans-serif"},fontSizing:{l:"2rem",m:"1.6rem",s:"1.2rem"},device:{desktop:"(max-width: 1000px)",tablet:"(max-width: 800px)",mobile:"(max-width: 500px)"},flex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"row",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";return"{\n    display: flex;\n    flex-direction: ".concat(e,";\n    justify-content: ").concat(n,";\n    align-items: ").concat(t,";\n  }")}},k=v.color,y=v.fontSizing,w=v.flex;function E(){var e=Object(b.a)(["\n  display: none;\n\n  img {\n    cursor: pointer;\n  }\n\n  @media (max-width: 800px) {\n    display: block;\n  }\n"]);return E=function(){return e},e}function O(){var e=Object(b.a)(["\n  ","\n\n  width: 100%;\n  max-width: 350px;\n\n  a {\n    font-size: ",";\n    text-decoration: none;\n    color: ",";\n  }\n\n  @media (max-width: 800px) {\n    display: ",";\n    flex-direction: column;\n\n    position: absolute;\n    top: 57px;\n\n    max-width: 100%;\n\n    margin-left: -40px;\n\n    background-color: ",";\n\n    a {\n      width: 100%;\n      text-align: right;\n      padding: 10px;\n      border-bottom: 1px solid black;\n    }\n  }\n"]);return O=function(){return e},e}function j(){var e=Object(b.a)(["\n  ",";\n  width: 100%;\n  max-width: 1000px;\n  flex-grow: 1;\n"]);return j=function(){return e},e}function C(){var e=Object(b.a)(["\n  ","\n  width: 100%;\n  height: fit-content;\n\n  padding: 15px 40px;\n\n  border-bottom: 1px solid black;\n\n  background-color: ",";\n\n  h1 {\n    font-size: ",";\n  }\n"]);return C=function(){return e},e}function S(){var e=Object(b.a)(["\n  ",";\n  width: 100%;\n  height: 100vh;\n"]);return S=function(){return e},e}var T=x.b.div(S(),w("column","center")),A=x.b.div(C(),w("row","normal","center"),k.topBarBgColor,y.l),z=x.b.div(j(),w("row","center","space-between")),_=x.b.nav(O(),w("row","normal","space-between"),y.m,k.primaryTextColor,function(e){return e.menuOpen?"flex":"none"},k.mainBgColor),F=x.b.div(E()),B=n(52),U=n.n(B);function N(){var e=Object(b.a)(['\n  display: flex;\n  justify-content: space-between;\n\n  button {\n    width: fit-content;\n    height: 25px;\n\n    border: none;\n    outline: none;\n\n    color: white;\n    font-size: 1.4rem;\n    font-family: "Source Code Pro", monospace;\n\n    background-color: transparent;\n\n    cursor: pointer;\n  }\n']);return N=function(){return e},e}function R(){var e=Object(b.a)(['\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  font-family: "Source Code Pro", monospace;\n\n  margin: 10px 0;\n\n  input {\n    width: 100%;\n\n    border: none;\n    border-bottom: 1px solid #d2d2d2;\n\n    padding: 3px 0;\n\n    color: #d2d2d2;\n    font-size: 1.4rem;\n    font-family: "Source Code Pro", monospace;\n\n    background-color: transparent;\n\n    outline: none;\n  }\n\n  select {\n    background-color: transparent;\n    border: none;\n    font-size: 1.4rem;\n    outline: none;\n    cursor: pointer;\n\n    border-bottom: 1px solid black;\n    -webkit-appearance: none;\n    -webkit-border-radius: 0px;\n    border-radius: 0px;\n  }\n\n  span {\n    padding-top: 5px;\n    color: red;\n    font-size: 1.2rem;\n  }\n']);return R=function(){return e},e}function D(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n\n  padding: 10px 15px;\n\n  width: 100%;\n  height: fit-content;\n\n  span.login-error {\n    width: 100%;\n    text-align:center;\n    padding-top: 5px;\n    color: red;\n    font-size: 1.2rem;\n  }\n"]);return D=function(){return e},e}function L(){var e=Object(b.a)(['\n  display: flex;\n  margin: 40px 0;\n\n  button {\n    border: none;\n    outline: none;\n\n    color: #d2d2d2;\n    font-size: 2.2rem;\n    font-weight: 300;\n    font-family: "Source Code Pro", monospace;\n    text-decoration: none;\n\n    background-color: transparent;\n\n    cursor: pointer;\n  }\n\n  button:first-of-type {\n    margin-right: 50px;\n  }\n']);return L=function(){return e},e}function P(){var e=Object(b.a)(['\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  width: 300px;\n  height: fit-content;\n\n  margin-right: 125px;\n\n  /* border: 1px solid white; */\n\n  h1 {\n    color: #d2d2d2;\n    font-size: 5rem;\n    font-weight: 400;\n    font-family: "Source Code Pro", monospace;\n  }\n\n  @media(max-width: 800px) {\n    margin-right: 0;\n  }\n']);return P=function(){return e},e}function I(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n\n  width: 100%;\n  max-width: 1100px;\n  height: 600px;\n\n  margin-top: 10vh;\n\n  background: url(",") no-repeat;\n\n  @media(max-width: 800px) {\n    justify-content: center;\n    background: none;\n  }\n\n  /* border: 1px solid white; */\n"]);return I=function(){return e},e}function M(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n\n  align-items: center;\n\n  width: 100%;\n  height: 100vh;\n\n  background-color: #101b11;\n"]);return M=function(){return e},e}var H=x.b.div(M()),Y=x.b.div(I(),U.a),G=x.b.div(P()),V=x.b.div(L()),Z=x.b.form(D()),q=x.b.div(R()),J=x.b.div(N()),$=n(12),K=n(10),Q=n(4),W=n.n(Q),X=n(18),ee=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",email:"",password:"",redirectToReferrer:!1,formError:{firstName:"",lastName:"",email:"",password:""},registering:!1,registerFailed:!1},n.registerUser=function(e){if(e.preventDefault(),n.formValidated()){var t=n.state,a=t.firstName,r=t.lastName,i=t.email,o=t.password,c=n.props.setActiveUser,l={first_name:a,last_name:r,email:i,password:o};n.setState({registering:!0}),W.a.post("https://api-devdesk.herokuapp.com/api/register",l).then(function(e){return n.setState({registering:!1,registerFailed:!1}),W.a.post("https://api-devdesk.herokuapp.com/api/login",{email:i,password:o})}).then(function(e){n.setState({registering:!1,registerFailed:!1}),g.authenticate(function(){n.setState({redirectToReferrer:!0}),c(e.data.user)})}).catch(function(e){n.setState({registering:!1,registerFailed:!0})})}},n.handleChange=function(e){n.setState(Object(K.a)({},n.state,Object($.a)({registerFailed:!1},e.target.name,e.target.value)))},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"formValidated",value:function(){var e=!0,t=this.state,n=t.firstName,a=t.lastName,r=t.email,i=t.password,o={firstName:"",lastName:"",email:"",password:""};return n||(o.firstName="Please enter your first name.",e=!1),a||(o.lastName="Please enter your last name.",e=!1),r?/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(r)||(o.email="Please enter a valid email address."):(o.email="Please enter your email address.",e=!1),i||(o.password="Please enter your password",e=!1),e||this.setState(Object(K.a)({},this.state,{formError:o})),e}},{key:"render",value:function(){var e=this.state,t=e.registering,n=e.redirectToReferrer,a=e.formError,i=e.registerFailed,o=this.props.goBack;return!0===n?r.a.createElement(f.a,{to:"/tickets"}):r.a.createElement(Z,{onSubmit:this.registerUser},r.a.createElement(q,null,r.a.createElement("input",{type:"text",placeholder:"First Name",name:"firstName",value:this.state.firstName,onChange:this.handleChange}),a.firstName&&r.a.createElement("span",null,a.firstName)),r.a.createElement(q,null,r.a.createElement("input",{type:"text",placeholder:"Last Name",name:"lastName",value:this.state.lastName,onChange:this.handleChange}),a.lastName&&r.a.createElement("span",null,a.lastName)),r.a.createElement(q,null,r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",value:this.state.email,onChange:this.handleChange}),a.email&&r.a.createElement("span",null,a.email)),r.a.createElement(q,null,r.a.createElement("input",{type:"password",placeholder:"Password",className:"form-control",name:"password",value:this.state.password,onChange:this.handleChange}),a.password&&r.a.createElement("span",null,a.password)),r.a.createElement(J,null,r.a.createElement("button",{type:"button",onClick:o},"Go Back"),r.a.createElement("button",{onClick:this.registerUser},"Register")),r.a.createElement(X.c,{css:"\n            margin-left: calc(100% / 2);\n            margin-top: 15px;\n          ",sizeUnit:"px",size:10,color:"#d2d2d2",loading:t}),i&&r.a.createElement("span",{className:"login-error"},"Cannot register you at this time.",r.a.createElement("br",null),"Please try again later."))}}]),t}(a.Component),te=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",redirectToReferrer:!1,formError:{email:"",password:""},loggingIn:!1,loginFailed:!1},n.loginAuth=function(e){if(e.preventDefault(),n.formValidated()){var t=n.props.setActiveUser,a={email:n.state.email,password:n.state.password,redirectToReferrer:!0};n.setState({loggingIn:!0}),W.a.post("https://api-devdesk.herokuapp.com/api/login",a).then(function(e){n.setState({loggingIn:!1,loginFailed:!1}),g.authenticate(function(){n.setState({redirectToReferrer:!0}),t(e.data.user)})}).catch(function(e){n.setState({loggingIn:!1,loginFailed:!0})})}},n.handleChange=function(e){n.setState(Object(K.a)({},n.state.user,Object($.a)({loginFailed:!1},e.target.name,e.target.value)))},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"formValidated",value:function(){var e=!0,t=this.state,n=t.email,a=t.password,r={email:"",password:""};return n?/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(n)||(r.email="An invalid email address was entered."):(r.email="Please enter your email address.",e=!1),a||(r.password="Please enter your password",e=!1),e||this.setState(Object(K.a)({},this.state,{formError:r})),e}},{key:"render",value:function(){var e=this.state,t=e.loggingIn,n=e.redirectToReferrer,a=e.formError,i=e.loginFailed,o=this.props.goBack;return!0===n?r.a.createElement(f.a,{to:"/tickets"}):r.a.createElement(Z,{onSubmit:this.loginAuth},r.a.createElement(q,null,r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",value:this.state.email,onChange:this.handleChange}),a.email&&r.a.createElement("span",null,a.email)),r.a.createElement(q,null,r.a.createElement("input",{type:"password",placeholder:"Password",className:"form-control",name:"password",value:this.state.password,onChange:this.handleChange}),a.password&&r.a.createElement("span",null,a.password)),r.a.createElement(J,null,r.a.createElement("button",{type:"button",onClick:o},"Go Back"),r.a.createElement("button",{onClick:this.loginAuth},"Log in")),r.a.createElement(X.c,{css:"\n            margin-left: calc(100% / 2);\n            margin-top: 15px;\n          ",sizeUnit:"px",size:10,color:"#d2d2d2",loading:t}),i&&r.a.createElement("span",{className:"login-error"},"Your account was not found."))}}]),t}(a.Component),ne=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={displayRegister:!1,displayLogin:!1},n.displayRegister=function(){n.setState({displayRegister:!0,displayLogin:!1})},n.displayLogin=function(){n.setState({displayRegister:!1,displayLogin:!0})},n.goBack=function(){n.setState({displayRegister:!1,displayLogin:!1})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.displayRegister,n=e.displayLogin,a=this.props.setActiveUser;return r.a.createElement(H,null,r.a.createElement(Y,null,r.a.createElement(G,null,r.a.createElement("h1",null,"DevDesk_Q"),!t&&!n&&r.a.createElement(V,null,r.a.createElement("button",{name:"displayLogin",onClick:this.displayLogin},"Login"),r.a.createElement("button",{name:"displayRegister",onClick:this.displayRegister},"Register")),t&&r.a.createElement(ee,{setActiveUser:a,goBack:this.goBack}),n&&r.a.createElement(te,{setActiveUser:a,goBack:this.goBack}))))}}]),t}(a.Component);function ae(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: flex-end;\n  padding: 10px;\n\n  button {\n    width: 125px;\n    height: 25px;\n\n    border: none;\n    box-shadow: 2px 2px 4px rgb(0, 0, 0, 0.5);\n\n    color: white;\n    font-size: 1.4rem;\n    background-color: #658151;\n\n    cursor: pointer;\n  }\n"]);return ae=function(){return e},e}function re(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  margin: ",';\n\n  label {\n    display: flex;\n    font-size: 1.6rem;\n    font-weight: bold;\n\n    span {\n      display: block;\n      color: red;\n      font-size: 1rem;\n      margin-top: -4px;\n      padding-left: 5px;\n    }\n  }\n  input,\n  textarea,\n  select {\n    width: 100%;\n    margin-top: 5px;\n  }\n\n  input,\n  textarea {\n    width: 100%;\n\n    border: none;\n    border-bottom: 1px solid black;\n\n    padding: 3px 0;\n    font-size: 1.4rem;\n\n    background-color: transparent;\n\n    outline: none;\n  }\n\n  textarea.code-snippet {\n    font-family: "Courier";\n    font-family: 1.4rem;\n  }\n\n  textarea {\n    height: 100px;\n    resize: vertical;\n  }\n\n  select {\n    background-color: transparent;\n    border: none;\n    font-size: 1.4rem;\n    outline: none;\n    cursor: pointer;\n\n    border-bottom: 1px solid black;\n    -webkit-appearance: none;\n    -webkit-border-radius: 0px;\n    border-radius: 0px;\n  }\n\n  span {\n    padding-top: 5px;\n    color: red;\n    font-size: 1.2rem;\n  }\n\n  div.language-select {\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    \n    width: 100%;\n\n    label {\n      width: fit-content;\n      align-self: flex-end;\n      font-size: 1.4rem;\n      font-weight: 400;\n      font-style: italic;\n\n      margin-right: 3px;\n    }\n    select {\n      width: fit-content;\n      align-self: flex-end;\n      font-size: 1.4rem;\n      margin-bottom: -3px;\n      -webkit-appearance: menulist;\n      border-bottom: none;\n    }\n  }\n']);return re=function(){return e},e}function ie(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n\n  padding: 10px 15px;\n\n  width: 100%;\n  height: fit-content;\n\n  background: linear-gradient(180deg, #bdc9ca 0%, #9eaaab 100%);\n"]);return ie=function(){return e},e}function oe(){var e=Object(b.a)(["\n  padding: 10px 15px;\n\n  border-bottom: 1px solid black;\n\n  color: white;\n  background-color: #394141;\n\n  h1 {\n    font-size: 1.6rem;\n  }\n"]);return oe=function(){return e},e}function ce(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n\n  width: 100%;\n  max-width: 1000px;\n  height: fit-content;\n\n  margin-top: 50px;\n\n  border: 1px solid black;\n\n  box-shadow: 5px 5px 5px rgb(0, 0, 0, 0.2);\n\n  @media (max-width: 500px) {\n    margin-top: 0;\n    border-top: none;\n  }\n"]);return ce=function(){return e},e}var le=x.b.div(ce()),se=x.b.div(oe()),de=x.b.form(ie()),ue=x.b.div(re(),function(e){return e.marginNone?"none":"10px 0;"}),pe=x.b.div(ae()),me="https://api-devdesk.herokuapp.com/api",ge=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={ticket:{title:"",description:"",snippet:"",language:"monospace",repo:"",category:""},languages:["monospace","HTML","CSS","LESS","JavaScript","Java","Python"],formError:{title:"",description:"",snippet:"",repo:"",category:""},categories:[]},n.handleChange=function(e){n.setState({ticket:Object(K.a)({},n.state.ticket,Object($.a)({},e.target.name,e.target.value))}),e.target.name},n.handleSubmit=function(e){if(e.preventDefault(),n.formValidated()){var t,a=n.state.ticket;W.a.post("https://api-devdesk.herokuapp.com/api/tickets",{title:a.title,description:a.description,category_id:a.category,opened_by:n.props.activeUser.id,comment:"".concat(a.language,"~!~").concat(a.snippet)}).then(function(e){var r=e.data;return t=r.id,W.a.post("".concat(me,"/tickets/").concat(t,"/comments"),{comment:"link~!~".concat(a.repo),ticket_id:t,opened_by:n.props.activeUser.id})}).then(function(e){console.log("repo comment",e),n.props.history.push("/tickets/".concat(t))}).catch(function(e){console.log(e)})}},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;W.a.get("".concat(me,"/categories")).then(function(t){e.setState({categories:t.data})})}},{key:"formValidated",value:function(){var e=!0,t=this.state.ticket,n={title:"",description:"",snippet:"",repo:"",category:""};return t.title||(n.title="Title is required field.",e=!1),t.description||(n.description="Description is a required field",e=!1),t.snippet||(n.snippet="Code Snippet is a required field",e=!1),t.repo&&!/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:\/?#[\]@!\$&'\(\)\*\+,;=.]+$/gm.test(t.repo)&&(n.repo="A valid URL must be entered.",e=!1),t.category||(n.category="Category is a required field",e=!1),e||this.setState(Object(K.a)({},this.state,{formError:n})),e}},{key:"render",value:function(){var e=this.state,t=e.ticket,n=e.formError;return r.a.createElement(le,null,r.a.createElement(se,null,r.a.createElement("h1",null,"Open New Ticket")),r.a.createElement(de,{onSubmit:this.handleSubmit},r.a.createElement(ue,null,r.a.createElement("label",null,"Title ",r.a.createElement("span",null,"*")),r.a.createElement("input",{type:"text",name:"title",maxLength:"60",placeholder:"Enter a new title...",value:t.title,onChange:this.handleChange}),n.title&&r.a.createElement("span",null,n.title)),r.a.createElement(ue,null,r.a.createElement("label",null,"Description ",r.a.createElement("span",null,"*")),r.a.createElement("textarea",{name:"description",maxLength:"1000",placeholder:"Describe your problem...",value:t.description,onChange:this.handleChange}),n.description&&r.a.createElement("span",null,n.description)),r.a.createElement(ue,null,r.a.createElement("label",null,"Code Snippet ",r.a.createElement("span",null,"*")),r.a.createElement("textarea",{name:"snippet",className:"code-snippet",placeholder:"Paste your code here..",value:t.snippet,onChange:this.handleChange}),n.snippet&&r.a.createElement("span",null,n.snippet)),r.a.createElement(ue,{marginNone:!0},r.a.createElement("div",{className:"language-select"},r.a.createElement("label",null,"Format Snippet: "),r.a.createElement("select",{name:"language",onChange:this.handleChange},this.state.languages.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))),r.a.createElement(ue,null,r.a.createElement("label",null,"Link to Repo"),r.a.createElement("input",{type:"text",name:"repo",placeholder:"https:/github.com/user-name...",value:t.repo,onChange:this.handleChange}),n.repo&&r.a.createElement("span",null,n.repo)),r.a.createElement(ue,null,r.a.createElement("label",null,"Category ",r.a.createElement("span",null,"*")),r.a.createElement("select",{name:"category",onChange:this.handleChange},r.a.createElement("option",{style:{color:"grey"},value:""},"Choose a Category"),this.state.categories.map(function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})),n.category&&r.a.createElement("span",null,n.category)),r.a.createElement(pe,null,r.a.createElement("button",{onSubmit:this.handleSubmit},"Submit Ticket"))))}}]),t}(r.a.Component),fe=n(28);function he(){var e=Object(b.a)(["\n  ","\n\n  width: 100%;\n  max-width: 1000px;\n  padding: 0 10px;\n  flex-grow: 99;\n\n  /* @media (max-width: 800px) {\n    margin: 0 10px;\n  } */\n  @media (max-width: 500px) {\n    padding: 0;\n  }\n"]);return he=function(){return e},e}var be=x.b.div(he(),w("column"));function xe(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n\n  cursor: pointer;\n\n  img:last-of-type {\n    margin-top: -4px;\n  }\n"]);return xe=function(){return e},e}function ve(){var e=Object(b.a)(["\n  display: grid;\n  grid-template-columns: 5% 20% 10% 15% 15% 15% 10% 10%;\n  width: 100%;\n\n  @media (max-width: 800px) {\n    grid-template-columns: 8% 27% 15% 20% 15% 15%;\n    div:nth-child(5),\n    div:nth-child(6) {\n      display: none;\n    }\n  }\n\n  @media (max-width: 500px) {\n    grid-template-columns: 8% 27% 15% 20% 15% 15%;\n  }\n\n  padding: 5px 15px;\n\n  border: 1px solid black;\n  border-bottom: none;\n\n  border-radius: 3px 3px 0 0;\n\n  background-color: ",";\n\n  -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.5);\n  -moz-box-shadow: 4px 4px 10px rgba (0, 0, 0, 0.5);\n  box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.5);\n\n  div {\n    display: flex;\n    align-items: center;\n\n    color: ",";\n    font-size: ",";\n\n    span {\n      padding-right: 7px;\n    }\n  }\n"]);return ve=function(){return e},e}var ke=x.b.div(ve(),k.ticketHeaderColor,k.primaryTextColor,y.s),ye=x.b.div(xe()),we=function(e){return r.a.createElement("img",{src:"https://img.icons8.com/ios-glyphs/10/FFFFFF/sort-up.png",alt:"Sort Up",style:{visibility:e.header.active&&"asc"!==e.header.order?"hidden":"visible"}})},Ee=function(e){return r.a.createElement("img",{src:"https://img.icons8.com/ios-glyphs/10/FFFFFF/sort-down.png",alt:"Sort Down",style:{visibility:e.header.active&&"desc"!==e.header.order?"hidden":"visible"}})},Oe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={headers:[{id:"id",text:"ID",filter:"id",order:"desc",active:!1},{text:"Title",filter:"title",order:"desc",active:!1},{text:"Date",filter:"created_at",order:"desc",active:!1},{text:"Category",filter:"category_id",order:"desc",active:!1},{text:"Opened By",filter:"opened_by",order:"desc",active:!1},{text:"Assigned To",filter:"assigned_to",order:"desc",active:!1},{text:"Status",filter:"closed",order:"desc",active:!1}]},n.sortBy=function(e,t){var a=n.state.headers;n.setState({headers:a.map(function(t){return Object(K.a)({},t,{active:t.filter===e,order:"asc"===t.order?"desc":"asc"})})}),n.props.sortBy(e,n.state.headers[t].order)},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.headers;return r.a.createElement(ke,null,t.map(function(t,n){return r.a.createElement("div",{key:n},r.a.createElement("span",null,t.text),r.a.createElement(ye,{onClick:function(){return e.sortBy(t.filter,n)}},r.a.createElement(we,{header:t}),r.a.createElement(Ee,{header:t})))}))}}]),t}(r.a.Component);function je(){var e=Object(b.a)(["\n        display: none;\n      "]);return je=function(){return e},e}function Ce(){var e=Object(b.a)(["\n        background-color: yellow;\n        color: black;\n      "]);return Ce=function(){return e},e}function Se(){var e=Object(b.a)(["\n        background-color: grey;\n        color: black;\n        box-shadow: 0 0 0 #000;\n      "]);return Se=function(){return e},e}function Te(){var e=Object(b.a)(["\n        color: white;\n        background-color: green;\n      "]);return Te=function(){return e},e}function Ae(){var e=Object(b.a)(["\n  cursor: pointer;\n\n  border: 1px solid black;\n\n  height: 25px;\n\n  box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.5);\n\n  ","\n\n  @media (max-width: 500px) {\n\n      /* grid-column-start: 2;\n      grid-column-end: 6; */\n      margin: 5px;\n      width: 100%;\n      height: 30px;\n      font-size: 1rem;\n\n    \n  }\n"]);return Ae=function(){return e},e}function ze(){var e=Object(b.a)(["\n  ","\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  width: 60px;\n  height: 30px;\n\n  border: 1px solid black;\n  border-radius: 3px;\n\n  background-color: ",";\n\n  @media (max-width: 500px) {\n    font-size: 1rem;\n    width: 50px;\n  }\n"]);return ze=function(){return e},e}function _e(){var e=Object(b.a)(["\n  display: grid;\n  align-items: center;\n  grid-template-columns: 5% 20% 10% 15% 15% 15% 10% 10%;\n\n  width: 100%;\n\n  border: 1px solid black;\n\n  margin: 0 0 5px 0;\n  padding: 5px 15px;\n\n  color: ",";\n  font-size: ",";\n  text-decoration: none;\n\n  cursor: pointer;\n\n  background-color: ",";\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:nth-child(odd) {\n    background-color: ",";\n  }\n\n  &:nth-child(odd):hover {\n    background-color: ",";\n  }\n\n  -webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.5);\n  -moz-box-shadow: 4px 4px 10px rgba (0, 0, 0, 0.5);\n  box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.5);\n\n \n\n  div:nth-child(odd) {\n    font-weight: bold;\n  }\n\n  @media (max-width: 800px) {\n    grid-template-columns: 8% 27% 15% 20% 15% 15%;\n    div:nth-child(5),\n    div:nth-child(6) {\n      display: none;\n    }\n  }\n\n  @media (max-width: 500px) {\n    grid-template-columns: 8% 27% 15% 20% 15% 15%;\n    div:nth-child(4) {\n      padding-left: 10px;\n    }\n    div:nth-child(2) {\n      padding-right: 5px;\n    }\n  }\n"]);return _e=function(){return e},e}var Fe=Object(x.b)(c.b)(_e(),k.secondaryTextColor,y.s,k.ticketColor,k.ticketColorHover,k.ticketColor_2,k.ticketColorHover),Be=x.b.div(ze(),w("row","center","center"),function(e){return e.closed?k.ticketOpen:k.ticketClosed}),Ue=x.b.button(Ae(),function(e){return"assignable"===e.status?Object(x.a)(Te()):"other-user-assigned"===e.status?Object(x.a)(Se()):"active-user-assigned"===e.status?Object(x.a)(Ce()):"hidden"===e.status?Object(x.a)(je()):void 0}),Ne=function(e){var t=e.users.find(function(t){return t.id===e.ticket.opened_by});return r.a.createElement("div",null,"".concat(t.last_name,", ").concat(t.first_name))},Re=n(27),De=n.n(Re),Le=function(e){return r.a.createElement("div",null,De()(e.createdAt.split("T")[0]).format("MM/DD/YYYY"))},Pe=function(e){if(e.assignedTo){var t=e.users.find(function(t){return t.id===e.assignedTo});return r.a.createElement("div",null,"".concat(t.last_name,", ").concat(t.first_name))}return r.a.createElement("div",null)},Ie=function(e){var t=e.closed,n=e.assigned,a=e.assignedTo,i=e.openedBy,o=e.activeUserID,c=function(){return i===o||t?"hidden":n&&a===o?"active-user-assigned":n&&a!==o?"other-user-assigned":n||i===o?void 0:"assignable"};return r.a.createElement(Ue,{status:c(),onClick:e.handleClick,disabled:"other-user-assigned"===c()},function(){switch(c()){case"active-user-assigned":return"UNASSIGN";case"other-user-assigned":return"ASSIGNED";case"hidden":return"";default:return"ASSIGN"}}())},Me="https://api-devdesk.herokuapp.com/api",He=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={assigned:!1,assignedTo:null},n.handleClick=function(e){e.preventDefault();var t=n.props.ticket.id;W.a.get("".concat(Me,"/tickets/").concat(t)).then(function(e){var a=e.data;return a.assigned_to?a.assigned_to=null:a.assigned_to=n.props.activeUser.id,W.a.put("".concat(Me,"/tickets/").concat(t),a)}).then(function(e){var t=e.data;console.log("ticket after assigned:",t),n.setState({assigned:!n.state.assigned,assignedTo:t.assigned_to})}).catch(function(e){console.log(e)})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.ticket.assigned_to;e&&this.setState({assigned:!0,assignedTo:e})}},{key:"render",value:function(){var e=this.props,t=e.ticket,n=e.users,a=e.categories,i=e.activeUser,o=this.state,c=o.assigned,l=o.assignedTo;return r.a.createElement(Fe,{to:"/tickets/".concat(t.id)},r.a.createElement("div",null,t.id),r.a.createElement("div",null,t.title),r.a.createElement(Le,{createdAt:t.created_at}),r.a.createElement("div",null,a[t.category_id-1].name),r.a.createElement(Ne,{ticket:t,users:n}),r.a.createElement(Pe,{assignedTo:l,users:n}),r.a.createElement(Be,{closed:t.closed},t.closed?"Resolved":"Open"),r.a.createElement(Ie,{handleClick:this.handleClick,closed:t.closed,assigned:c,assignedTo:l,openedBy:t.opened_by,activeUserID:i.id}))}}]),t}(r.a.Component);function Ye(){var e=Object(b.a)(["\n\t\t\t\t\tbackground-color: #6B93A2;\n\t\t\t\t"]);return Ye=function(){return e},e}function Ge(){var e=Object(b.a)(["\n\t\t\t\t\tbox-shadow: inset 3px 3px 5px rgb(0, 0, 0, .5);\n\t\t\t\t\tbackground-color: #5e808d;\n\t\t\t\t\t\n\t\t\t\t"]);return Ge=function(){return e},e}function Ve(){var e=Object(b.a)(["\n\t\t\t\t\tbackground-color: #546B43;\n\t\t\t\t"]);return Ve=function(){return e},e}function Ze(){var e=Object(b.a)(["\n\t\t\t\t\tbox-shadow: inset 3px 3px 5px rgb(0, 0, 0, .5);\n\t\t\t\t\tbackground-color: #4b5f3c;\n\t\t\t\t\t\n\t\t\t\t"]);return Ze=function(){return e},e}function qe(){var e=Object(b.a)(["\n\t\t\t\t\tbackground-color: #acb8b9;\n\t\t\t\t"]);return qe=function(){return e},e}function Je(){var e=Object(b.a)(["\n\t\t\t\t\tbox-shadow: inset 3px 3px 5px rgb(0, 0, 0, .5);\n\t\t\t\t\tbackground-color: #9aa6a7;\n\t\t\t\t\t\n\t\t\t\t"]);return Je=function(){return e},e}function $e(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n\n  width: 100%;\n  max-width: 200px;\n\n  border: 1px solid black;\n\n  box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.5);\n\n  div:first-of-type {\n    width: 100%;\n    padding: 5px 0;\n    background-color: ",";\n\n    font-size: 1.4rem;\n\n    span {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      color: white;\n    }\n  }\n\n  div:last-of-type {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    width: 100%;\n\n    font-size: 1.2rem;\n\n    button {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      width: calc(100%/3);\n      height: 100%;\n\n      padding: 5px 0;\n\n      font-weight: bold;\n\n\t\t\tborder: none;\n\t\t\toutline: none;\n      border-right: 1px solid black;\n\n      cursor: pointer;\n    }\n\n    button.status-all {\n\t\t\t",";\n    }\n\n    button.status-open {\n      ",";\n    }\n\n    button.status-resolved {\n\t\t\tborder-right: none;\n      ",";\n    }\n  }\n"]);return $e=function(){return e},e}function Ke(){var e=Object(b.a)(["\n\t\t\t\t\tbackground-color: #acb8b9;\n\t\t\t\t"]);return Ke=function(){return e},e}function Qe(){var e=Object(b.a)(["\n\t\t\t\t\tbox-shadow: inset 3px 3px 5px rgb(0, 0, 0, .5);\n\t\t\t\t\tbackground-color: #98a4a5;\n\t\t\t\t\t\n\t\t\t\t"]);return Qe=function(){return e},e}function We(){var e=Object(b.a)(["\n\t\t\t\t\tbackground-color: #acb8b9;\n\t\t\t\t"]);return We=function(){return e},e}function Xe(){var e=Object(b.a)(["\n\t\t\t\t\tbox-shadow: inset 3px 3px 5px rgb(0, 0, 0, .5);\n\t\t\t\t\tbackground-color: #98a4a5;\n\t\t\t\t\t\n\t\t\t\t"]);return Xe=function(){return e},e}function et(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n\n  width: 100%;\n  max-width: 200px;\n  border: 1px solid black;\n  border-radius: 3px;\n\n  color: white;\n  font-size: 1.4rem;\n\n  box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.5);\n\n  div {\n    display: flex;\n    justify-content: space-between;\n\n    border-bottom: 1px solid black;\n    padding: 0 5px;\n\n    background-color: ",";\n\n    span {\n      width: 50%;\n      padding: 5px 0;\n\n      text-align: center;\n    }\n\n    span:first-of-type {\n      border-right: 1px solid black;\n    }\n  }\n\n  div:last-of-type {\n    border-bottom: none;\n\n    padding: 0;\n\n    color: black;\n\n    button {\n      width: 50%;\n\n      padding: 5px 0;\n\n\t\t\tborder: none;\n\t\t\toutline: none;\n      border-right: 1px solid black;\n\n      font-size: 1.4rem;\n      font-weight: bold;\n      text-align: center;\n\n      background-color: #acb8b9;\n      &:hover {\n        background-color: #98a4a5;\n      }\n      cursor: pointer;\n\t\t}\n\t\t\n\t\tbutton.total-all {\n\t\t\t",";\n\t\t}\n\t\tbutton.total-assigned {\n\t\t\t",";\n\t\t}\n  }\n"]);return et=function(){return e},e}function tt(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n  width: 100%;\n\n  margin: 30px 0;\n"]);return tt=function(){return e},e}var nt=x.b.div(tt()),at=x.b.div(et(),k.topBarBgColor,function(e){return"all"===e.status?Object(x.a)(Xe()):Object(x.a)(We())},function(e){return"assigned"===e.status?Object(x.a)(Qe()):Object(x.a)(Ke())}),rt=x.b.div($e(),k.topBarBgColor,function(e){return"all"===e.status?Object(x.a)(Je()):Object(x.a)(qe())},function(e){return"open"===e.status?Object(x.a)(Ze()):Object(x.a)(Ve())},function(e){return"resolved"===e.status?Object(x.a)(Ge()):Object(x.a)(Ye())}),it=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={totalTicketFilter:"all",statusFilter:"all"},n.handleClick=function(e){n.setState(Object($.a)({},e.target.name,e.target.value)),n.props.filterBy(e,e.target.value)},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.totalTickets,n=e.assignedTickets,a=this.state,i=a.totalTicketFilter,o=a.statusFilter;return r.a.createElement(nt,null,r.a.createElement(at,{status:i},r.a.createElement("div",null,r.a.createElement("span",null,"Total Tickets"),r.a.createElement("span",null,"Your Tickets")),r.a.createElement("div",null,r.a.createElement("button",{className:"total-all",name:"totalTicketFilter",value:"all",onClick:this.handleClick},t),r.a.createElement("button",{className:"total-assigned",name:"totalTicketFilter",value:"assigned",onClick:this.handleClick},n))),r.a.createElement(rt,{status:o},r.a.createElement("div",null,r.a.createElement("span",null,"Filters")),r.a.createElement("div",null,r.a.createElement("button",{className:"status-all",name:"statusFilter",value:"all",onClick:this.handleClick},"All"),r.a.createElement("button",{className:"status-open",name:"statusFilter",value:"open",onClick:this.handleClick},"Open"),r.a.createElement("button",{className:"status-resolved",name:"statusFilter",value:"resolved",onClick:this.handleClick},"Resolved"))))}}]),t}(r.a.Component),ot="https://api-devdesk.herokuapp.com/api";function ct(e,t){return function(n,a){if(!n.hasOwnProperty(e)||!a.hasOwnProperty(e))return 0;var r="string"===typeof n[e]?n[e].toLowerCase():n[e],i="string"===typeof a[e]?a[e].toLowerCase():a[e],o=0;return r>i?o=1:r<i&&(o=-1),"asc"===t?-1*o:o}}var lt=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={tickets:[],filteredTickets:[],statusFilter:"all",totalTicketFilter:"all",users:[],categories:[],loadingTickets:!1},n.sortBy=function(e,t){var a=n.state.filteredTickets;n.setState(Object(K.a)({},n.state,{loadingTickets:!1,filteredTickets:a.sort(ct(e,t))}))},n.filterBy=function(e,t){e.persist();var a=n.state.tickets,r=n.props.activeUser,i=n.state.filteredTickets;n.setState(Object(K.a)({},n.state,Object($.a)({},e.target.name,t)),function(){i="assigned"===n.state.totalTicketFilter?a.filter(function(e){return e.assigned_to===r.id}):a,i="open"===n.state.statusFilter?i.filter(function(e){return!e.closed}):"resolved"===n.state.statusFilter?i.filter(function(e){return e.closed}):i,n.setState(Object(K.a)({},n.state,{loadingTickets:!1,filteredTickets:i}))})},n.toggleMenu=function(){n.setState({menuOpen:!n.state.menuOpen})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loadingTickets:!0}),Promise.all([W.a.get("".concat(ot,"/tickets")),W.a.get("".concat(ot,"/users")),W.a.get("".concat(ot,"/categories"))]).then(function(t){var n=Object(fe.a)(t,3),a=n[0],r=n[1],i=n[2];e.setState(Object(K.a)({},e.state,{tickets:a.data,loadingTickets:!1,filteredTickets:a.data,users:r.data,categories:i.data}))}).catch(function(t){e.setState({loadingTickets:!0})})}},{key:"render",value:function(){var e=this.state,t=e.loadingTickets,n=e.tickets,a=e.filteredTickets,i=e.users,o=e.categories,c=this.props.activeUser;return r.a.createElement(be,null,r.a.createElement(it,{totalTickets:n.length,assignedTickets:n.filter(function(e){return e.assigned_to===c.id}).length,filterBy:this.filterBy}),r.a.createElement(Oe,{sortBy:this.sortBy}),a.map(function(e){return r.a.createElement(He,{key:e.id,ticket:e,categories:o,users:i,activeUser:c})}),r.a.createElement(X.b,{css:"margin-left: calc(98%/2); margin-top: 200px;",sizeUnit:"px",size:100,color:"black",loading:t}))}}]),t}(r.a.Component),st=n(56);function dt(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  margin: 10px 0;\n  padding: 10px 15px;\n\n  textarea {\n    width: 100%;\n    height: 100px;\n    resize: vertical;\n\n    margin-top: 5px;\n    padding: 5px;\n\n    border: none;\n    border: 1px solid black;\n\n    color: white;\n    font-size: 1.4rem;\n\n    background-color: #444E50;\n\n    outline: none;\n  }\n"]);return dt=function(){return e},e}function ut(){var e=Object(b.a)(["\n  padding: 10px 15px;\n  display: flex;\n  justify-content: flex-end;\n\n  margin: 5px;\n\n  button {\n    width: 100px;\n    height: 25px;\n\n    margin-left: 10px;\n\n    border: none;\n    outline: none;\n    box-shadow: 2px 2px 4px rgb(0, 0, 0, 0.5);\n\n    color: white;\n    font-size: 1.4rem;\n    background-color: #658151;\n\n    cursor: pointer;\n  }\n\n  button:nth-of-type(2) {\n    width: 150px;\n  }\n"]);return ut=function(){return e},e}function pt(){var e=Object(b.a)(["\n  width: 100%;\n  border-bottom: 1px solid black;\n\n  span {\n    color: white;\n    background-color: #394141;\n    margin-left: 30px;\n  }\n"]);return pt=function(){return e},e}function mt(){var e=Object(b.a)(["\n  padding: 10px 15px;\n\n  font-size: 1.4rem;\n\n  border-bottom: 1px solid black;\n\n  label {\n    font-weight: 600;\n    margin-right: 10px;\n  }\n"]);return mt=function(){return e},e}function gt(){var e=Object(b.a)(["\n  padding: 10px 15px;\n"]);return gt=function(){return e},e}function ft(){var e=Object(b.a)(["\n  padding: 10px 15px;\n  font-size: 1.6rem;\n\n  p {\n    font-weight: bold;\n  }\n"]);return ft=function(){return e},e}function ht(){var e=Object(b.a)(["\n  padding: 10px 15px;\n  display: flex;\n  align-items: center;\n\n  width: 100%;\n\n  padding-bottom: 5px;\n  \n  border-bottom: ",";\n\n  span.opened-by {\n    font-weight: 400;\n    font-size: 1.6rem;\n  }\n  span.date {\n    padding-left: 5px;\n    font-size: 1.4rem;\n    font-weight: 300;\n  }\n\n"]);return ht=function(){return e},e}function bt(){var e=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  padding: 10px 15px;\n\n  border-bottom: 1px solid black;\n\n  color: white;\n  background-color: #394141;\n\n  h1 {\n    font-size: 1.6rem;\n  }\n\n  span {\n    font-size: 1.6rem;\n    font-weight: light;\n  }\n"]);return bt=function(){return e},e}function xt(){var e=Object(b.a)(["\n  height: fit-content;\n"]);return xt=function(){return e},e}function vt(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n\n  width: 100%;\n  max-width: 1000px;\n  height: fit-content;\n\n  margin-top: 50px;\n\n  border: 1px solid black;\n\n  background: linear-gradient(180deg, #bdc9ca 0%, #9eaaab 100%);\n\n  box-shadow: 5px 5px 5px rgb(0, 0, 0, 0.2);\n\n  @media(max-width: 500px) {\n    margin-top: 0;\n    border-top: none;\n  }\n"]);return vt=function(){return e},e}var kt=x.b.div(vt()),yt=x.b.div(xt()),wt=x.b.div(bt()),Et=x.b.div(ht(),function(e){return e.bordered?"1px solid grey":"none"}),Ot=x.b.div(ft()),jt=x.b.div(gt()),Ct=x.b.div(mt()),St=(x.b.div(pt()),x.b.div(ut())),Tt=x.b.div(dt()),At=function(e){return r.a.createElement(Et,{bordered:e.bordered},r.a.createElement("span",{className:"opened-by"},"".concat(e.openedBy.first_name," ").concat(e.openedBy.last_name)),r.a.createElement("span",{className:"date"}," @ ".concat(De()(e.createdAt.split("T")[0]).format("M/DD/YYYY"))))},zt=n(287),_t=n(286);function Ft(){var e=Object(b.a)(["\n  font-size: 1.4rem;\n  padding: 10px 30px;\n"]);return Ft=function(){return e},e}function Bt(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Bt=function(){return e},e}function Ut(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return Ut=function(){return e},e}var Nt=x.b.div(Ut()),Rt=x.b.div(Bt()),Dt=x.b.div(Ft()),Lt=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).splitComment=function(e){return e.split("```")},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.comments;return r.a.createElement(Nt,null,t.map(function(t,n){return r.a.createElement(Rt,{key:n},r.a.createElement(At,{openedBy:t.opened_by,createdAt:t.opened_by.created_at,bottom:!0}),r.a.createElement(Dt,{style:{whiteSpace:"pre-wrap"}},e.splitComment(t.comment).map(function(e,t){return console.log("string",t,e),t%2===0?e:r.a.createElement(zt.a,{language:"text",style:_t.a,customStyle:{fontFamily:"Courier",width:"100%",fontSize:"1.2rem"}},e)})))}))}}]),t}(a.Component),Pt=function(e){var t=function(){var t=e.codeSnippet.split("~!~"),n=Object(fe.a)(t,2),a=n[0],r=n[1];return{language:a="monospace"===a?"text":a.toLowerCase(),codeSnippet:r}};return e.codeSnippet?r.a.createElement(jt,null,r.a.createElement(zt.a,{language:t().language,style:_t.a,customStyle:{fontFamily:"Courier",width:"100%",fontSize:"1.2rem"}},t().codeSnippet)):r.a.createElement("div",null)},It=function(e){var t="~!~"!==e.comment&&e.comment.split("~!~")[1];return r.a.createElement(Ct,null,r.a.createElement("label",null,"Link to Repo:"),t&&r.a.createElement("a",{href:t},t))},Mt=function(e){return r.a.createElement(St,null,function(){var t=!e.ticket.closed&&e.ticket.opened_by!==e.activeUser.id;return t=e.assigned?e.assignedTo===e.activeUser.id:t}()&&r.a.createElement("button",{onClick:e.toggleAssigned},e.assigned?"UNASSIGN":"ASSIGN"),e.assigned&&e.assignedTo===e.activeUser.id&&r.a.createElement("button",{onClick:e.markResolved},"MARK RESOLVED"),(e.assigned&&e.assignedTo===e.activeUser.id||e.ticket.opened_by===e.activeUser.id)&&r.a.createElement("button",{onClick:e.addComment},"REPLY"))},Ht="https://api-devdesk.herokuapp.com/api",Yt=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={ticket:null,snippetLanguage:"text",comments:null,category:null,assignedTo:null,openedBy:null,assigned:!1,reply:"",loadingTicket:!0,postingComment:!1},n.toggleAssigned=function(){var e=n.state,t=e.ticket,a=e.assigned,r=n.props.activeUser;W.a.get("".concat(Ht,"/tickets/").concat(t.id)).then(function(e){var t=e.data;return t.assigned_to?t.assigned_to=null:t.assigned_to=r.id,W.a.put("".concat(Ht,"/tickets/").concat(t.id),t)}).then(function(e){var t=e.data;n.setState(Object(K.a)({},n.state,{ticket:t,assigned:!a,assignedTo:t.assigned_to}))}).catch(function(e){console.log(e)})},n.addComment=function(){var e=n.state,t=e.reply,a=e.ticket,r=e.comments,i=n.props.activeUser;console.log("reply",t);var o={comment:t,ticket_id:a.id,opened_by:i.id};n.setState({postingComment:!0}),W.a.post("".concat(Ht,"/tickets/").concat(a.id,"/comments"),o).then(function(){return W.a.get("".concat(Ht,"/tickets/").concat(a.id,"/comments"))}).then(function(e){var t=e.data;return o.comment=t[t.length-1].comment,W.a.get("".concat(Ht,"/users/").concat(t[t.length-1].opened_by))}).then(function(e){o.opened_by=e.data}).then(function(){n.setState(Object(K.a)({},n.state,{postingComment:!1,comments:[].concat(Object(st.a)(r),[o]),reply:""}))}).catch(function(e){n.setState({postingComment:!1})})},n.deleteComment=function(e){var t=n.state.ticket;W.a.delete("".concat(Ht,"/tickets/").concat(t.id,"/comments/").concat(e)).catch(function(e){console.log(e)})},n.markResolved=function(){var e=n.state.ticket;window.confirm("Are you sure you want to resolve this ticket?\nChanges cannot be made afterwards.")&&W.a.get("".concat(Ht,"/tickets/").concat(e.id)).then(function(e){var t=e.data;return t.closed=!0,W.a.put("".concat(Ht,"/tickets/").concat(t.id),t)}).then(function(e){var t=e.data;console.log("ticket after closed:",t),n.setState(Object(K.a)({},n.state,{assigned:!1,assignedTo:null}))}).then(function(){n.props.history.push("/tickets")}).catch(function(e){console.log(e)})},n.handleChange=function(e){n.setState(Object(K.a)({},n.state,Object($.a)({},e.target.name,e.target.value)))},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t,n,a,r,i=this,o=this.props.match.params.id,c=[],l=[];W.a.get("".concat(Ht,"/tickets/").concat(o)).then(function(t){var n=t.data;return e=n,W.a.get("".concat(Ht,"/categories/").concat(e.category_id))}).then(function(n){var a=n.data;return t=a,W.a.get("".concat(Ht,"/users/").concat(e.opened_by))}).then(function(t){var a=t.data;return n=a,!!e.assigned_to&&W.a.get("".concat(Ht,"/users/").concat(e.assigned_to))}).then(function(t){return t&&(a=t.data,r=!e.closed),W.a.get("".concat(Ht,"/tickets/").concat(o,"/comments"))}).then(function(e){return e.data.forEach(function(e,t){c[t]=e,l.push(W.a.get("".concat(Ht,"/users/").concat(e.opened_by)))}),W.a.all(l)}).then(function(e){e.forEach(function(e,t){c[t].opened_by=e.data})}).then(function(){i.setState(Object(K.a)({},i.state,{ticket:e,comments:c,category:t,assignedTo:a,assigned:r,openedBy:n,loadingTicket:!1}))}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state,t=e.assigned,n=(e.assignedTo,e.category),a=e.comments,i=e.openedBy,o=e.reply,c=e.ticket,l=e.loadingTicket,s=e.postingComment,d=this.props.activeUser;return l?r.a.createElement(X.c,{css:"margin-top: 200px;",sizeUnit:"px",size:15,color:"black"}):(l||console.log(c.opened_by,d.id),r.a.createElement(kt,null,r.a.createElement(yt,null,r.a.createElement(wt,null,r.a.createElement("h1",null,c.title),r.a.createElement("span",null,"Category - ",n.name)),r.a.createElement(At,{openedBy:i,createdAt:c.created_at,bordered:!0,top:!0}),r.a.createElement(Ot,null,r.a.createElement("p",{style:{whiteSpace:"pre-wrap"}},"".concat(c.description))),r.a.createElement(Pt,{codeSnippet:a[0].comment}),r.a.createElement(It,{comment:a[1].comment})),r.a.createElement(Lt,{comments:a.slice(2),deleteComment:this.deleteComment}),(t&&d.id===c.assigned_to||d.id===c.opened_by)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Tt,null,r.a.createElement("textarea",{name:"reply",placeholder:"Type your reply here..",value:o,onChange:this.handleChange})),r.a.createElement(X.a,{css:"width: 100%; background-color: grey;",sizeUnit:"px",height:4,color:"black",loading:s})),r.a.createElement(Mt,{toggleAssigned:this.toggleAssigned,markResolved:this.markResolved,addComment:this.addComment,assignedTo:c.assigned_to,assigned:t,ticket:c,activeUser:d})))}}]),t}(a.Component),Gt=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={menuOpen:!1},n.toggleMenuIcon=function(){n.setState({menuOpen:!n.state.menuOpen})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.menuOpen;return r.a.createElement(r.a.Fragment,null,g.isAuthenticated&&r.a.createElement(A,null,r.a.createElement(z,null,r.a.createElement(c.b,{to:"/tickets"},r.a.createElement("h1",{style:{color:"white"}},"DevDesk_Q")),r.a.createElement(_,{menuOpen:e,onClick:this.toggleMenuIcon},r.a.createElement(c.c,{to:"/tickets",activeStyle:{color:"#dddddd"}},"TICKETS"),r.a.createElement(c.c,{to:"/new-ticket",activeStyle:{color:"#dddddd"}},"OPEN NEW TICKET"),r.a.createElement(c.c,{to:"/",activeStyle:{color:"#dddddd"},onClick:function(){return g.signout()}},"LOGOUT")),r.a.createElement(F,null,r.a.createElement("img",{style:{height:"25px"},src:"https://img.icons8.com/ios-glyphs/30/FFFFFF/menu.png",onClick:this.toggleMenuIcon,alt:"Menu Icon"})))))}}]),t}(a.Component),Vt=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={activeUser:{},topBarHidden:!1},n.setActiveUser=function(e){n.setState({activeUser:e})},n.topBarHidden=function(e){n.setState({topBarHidden:e})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.activeUser;return r.a.createElement(T,null,g.isAuthenticated&&r.a.createElement(Gt,{topBarHidden:this.topBarHidden}),r.a.createElement(f.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(ne,Object.assign({},t,{setActiveUser:e.setActiveUser}))}}),r.a.createElement(f.b,{path:"/login",render:function(t){return r.a.createElement(te,Object.assign({},t,{setActiveUser:e.setActiveUser}))}}),r.a.createElement(f.b,{path:"/register",render:function(t){return r.a.createElement(ee,Object.assign({},t,{setActiveUser:e.setActiveUser}))}}),r.a.createElement(h,{exact:!0,path:"/tickets",component:lt,activeUser:t}),r.a.createElement(h,{path:"/tickets/:id",component:Yt,activeUser:t}),r.a.createElement(h,{path:"/new-ticket",component:ge,activeUser:t}))}}]),t}(r.a.Component);o.a.render(r.a.createElement(c.a,null,r.a.createElement(Vt,null)),document.getElementById("root"))},52:function(e,t,n){e.exports=n.p+"static/media/landing-page-background.f587ec96.png"},61:function(e,t,n){e.exports=n(285)},66:function(e,t,n){}},[[61,1,2]]]);
//# sourceMappingURL=main.38c0ab49.chunk.js.map